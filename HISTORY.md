# 프로젝트 개발 히스토리

## 2025-04-16
- **InfluxDB 연동 구현 완료**
  - 메트릭 데이터를 InfluxDB로 전송하는 기능 구현
  - TOML 설정 파일에서 InfluxDB 연결 정보 파싱 구현
  - 설정 파일 파싱 오류 시 정규식을 사용한 대체 파싱 로직 추가
  - 메트릭 버퍼링 및 배치 전송 기능 구현
  - InfluxDB 서버 연결 실패 시 재시도 및 오류 처리 로직 개선
  - 파싱된 메트릭 데이터의 undefined 값 처리 개선
  - 다양한 오류 유형(권한, 인증, 연결 등)에 따른 상세 오류 메시지 제공
  
- **디스크 사용량 메트릭 수집 기능 추가**
  - `check-disk-space` 라이브러리를 사용하여 디스크 전체 용량, 사용 용량, 여유 용량, 사용률(%) 수집
  - `src/metrics/metrics.service.ts`에 관련 로직 추가 (`getDiskUsageStats` 메서드)
  - `getDiskStats` 메서드를 `getDiskIoStats`로 이름 변경하여 명확성 개선
  - `getMetrics` 반환 객체에 `diskUsage` 필드 추가 (기존 `disk`는 `diskIO`로 변경)
- **대시보드 UI 업데이트**
  - `public/index.html`에 디스크 사용량 표시 카드 추가 (게이지 차트, 총/사용/여유 공간 표시)
  - 디스크 사용량 데이터를 처리하고 표시하는 JavaScript 로직 추가
- **타입 정의 추가**
  - `check-disk-space` 라이브러리 타입 정의 (`@types/check-disk-space`) 추가하여 TypeScript 컴파일 오류 해결

## 2025-04-15
- **호스트 메트릭 수집 기능 추가**
  - 메트릭 수집 모드를 'container'와 'host'로 구분
  - `METRICS_TARGET` 환경 변수를 통한 수집 모드 설정 기능 추가
  - 호스트 시스템 메트릭 수집을 위한 `/host/proc` 마운트 지원
  - 호스트 모드에서 CPU, 메모리, 디스크, 네트워크 정보 수집 로직 구현
  - 웹 기반 대시보드 UI 초기 구현
  
- **메트릭 수집 개선**
  - 메트릭 데이터 파싱 로직 개선
  - 디버깅 로그 추가로 문제 진단 용이성 향상
  - 오류 처리 및 예외 상황 대응 강화
  - 메트릭 수집 실패 시 일관된 오류 형식 반환
  
- **대시보드 UI 업데이트**
  - Chart.js를 사용한 시각적 메트릭 대시보드 구현
  - CPU와 메모리 사용률 표시를 위한 게이지 차트 추가
  - 디스크 I/O와 네트워크 트래픽을 위한 시계열 차트 구현
  - 실시간 데이터 업데이트 및 이력 추적 기능 추가
  - 반응형 레이아웃 및 사용자 경험 개선
  - 원시 데이터 토글 기능 추가

## 2025-04-02
- **패키지 이름 변경 및 구성 최적화**
  - 패키지 이름을 'lightweight'로 변경
  - 도커 컨테이너에서 실행 시 필요한 종속성 최적화
  - 빌드 스크립트 개선

## 2025-04-01
- **프로젝트 시작**: 초경량 메트릭 전송 에이전트 프로젝트 초기화
  - NestJS 프레임워크를 사용한 프로젝트 설정
  - Docker 컨테이너 내부 메트릭 수집 기능 설계
  - 기본 메트릭 서비스 구현 (CPU, 메모리, 디스크 I/O, 네트워크)
  - Socket.IO를 사용한 WebSocket 통신 구현
  - pkg를 사용한 단일 실행 파일 빌드 설정 